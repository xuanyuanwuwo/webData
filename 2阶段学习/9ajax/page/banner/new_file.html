<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			#banner{
			    width: 400px;
			    height: 200px;
			    background-size: 100% 100%;
			    position: relative;
			}
			button{
			    position: absolute;
			    top: 100px;
			    color: indigo;
			    border: none;
			}
			#previou{
			    left: 10px;
			}
			#next{
			    right: 10px;
			}
			ul{
			    list-style: none;
			    position: absolute;
			    bottom: 10px;
			    left: 200px;
			    margin-left: -35%;
			}
			li{
			    width: 15px;
			    height: 15px;
			    background-color: black;
			    float: left;
			    margin: 0 10px;
			    border-radius: 50%;
			}
		</style>
	</head>
	<body>
		<div id="banner">
			<button id="previou"><</button>
			<button id="next">></button>
			<ul>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
			</ul>
		</div>
	</body>
</html>
<script type="text/javascript">
	class Photo{
		constructor(newli,newimg) {
		    this.oli = newli;
			this.oimg = newimg
			this.index = 0
			// 默认设置
			this.oimg.style.backgroundImage = "url(img/"+this.index+".jpg)"
			this.oli[this.index].style.backgroundColor = "red"
		}
		// 设置背景
		setImages(){
			this.oimg.style.backgroundImage = "url(img/"+this.index+".jpg)"
		}
		// 设置里颜色
		setOlicolor(){
			for(let i=0; i<this.oli.length;i++){
				if(i == this.index){
					this.oli[i].style.backgroundColor = "red"
				}else{
					this.oli[i].style.backgroundColor = "black"
				}
			}
		}
		// li点击切换
		liClick(){
			let that = this
			for(let i=0; i<this.oli.length;i++){
				this.oli[i].onclick = function(){
					that.index = i
					that.setImages()
					that.setOlicolor()
				}
			}
		}
		// 左边切换
		previous(){
				this.index--
				if(this.index < 0){
					this.index = this.oli.length-1
				}
				this.setImages()
				this.setOlicolor()				
		}
		// 右边切换
		next(){
				this.index++
				if(this.index > this.oli.length-1){
					this.index = 0
				}
				this.setImages()
				this.setOlicolor()			
		}
		event(){
			let that = this
			let previou = document.getElementById("previou")
			let next = document.getElementById("next")
			previou.onclick = function(){
				that.previous()
			}
			next.onclick = function(){
				that.next()
			}
		}
	}
	let oimg = document.getElementById("banner")
	let oli = document.getElementsByTagName('li')
	let p = new Photo(oli,oimg)
	p.liClick()
	p.event()
</script>